{
  "insert all mongoose reqs": {
    "prefix": "a-mongoose-req",
    "body": [
      "const express = require('express');",
      "const mongoose = require('mongoose');",
      "const passport = require('passport');",
      "const LocalStrategy = require('passport-local').Strategy;",
      "const passportLocalMongoose = require('passport-local-mongoose');",
      "const session = require('express-session');",
      "const MongoStore = require('connect-mongo');",
      "const bodyParser = require('body-parser'),",

      "const User = require('./models/User');",
      "const app = express()"
    ],
    "description": "Insert all the typical required modules"
  }, 
  "mongoose con session def": {
    "prefix": "a-mongoose-con-session",
    "body": [
      "/*",
      "mongoose.connect('mongodb+srv://TT:TT@goldtrade.skpkklp.mongodb.net/', { useNewUrlParser: true });    ",
      "app.use(require('express-session')({",
      "    secret:'Miss white is my cat',",
      "    resave: false,",
      "    saveUninitialized: false",
      "}));",
      "*/",
      "const MongoStore = require('connect-mongo');",
      "const mongoose = require('mongoose');",
      "const mongoString = 'mongodb+srv://TT:TT@goldtrade.skpkklp.mongodb.net/';",
      "mongoose.connect(mongoString);",
      "const db = mongoose.connection;",
      "",
      "app.use(session({",
      "  secret: 'your secret key',",
      "  resave: false,",
      "  saveUninitialized: true, //sometimes false",
      "  store: new MongoStore({ mongoUrl: db.client.s.url }) //or mongoUrl: mongoString",
      "}));",
      "",
      "app.use(passport.initialize());",
      "app.use(passport.session());",
      "",
      "// Configure Passport.js to use the User model",
      "passport.use(User.createStrategy()); //new",
      "//passport.use(new LocalStrategy(User.authenticate())); //old",
      "passport.serializeUser(User.serializeUser());",
      "passport.deserializeUser(User.deserializeUser());"
    ],
    "description": "mongoose connection session def"
  },
  "connect with mongoose ": {
    "prefix": "a-mongoose-connect",
    "body": [
        "",
        "//have own file and call connectDB()",
        "import mongoose from \"mongoose\";",
        "",
        "export default function connectDB() {",
        "//   const url = \"mongodb://127.0.0.1/blog_db\";",
        "  const url = \"mongodb+srv://TT:TT@goldtrade.skpkklp.mongodb.net/\";",
        "",
        "  try {",
        "    mongoose.connect(url, {",
        "      useNewUrlParser: true,",
        "      useCreateIndex: true,",
        "      useUnifiedTopology: true,",
        "    });",
        "  } catch (err) {",
        "    console.error(err.message);",
        "    process.exit(1);",
        "  }",
        "",
        "  const dbConnection = mongoose.connection;",
        "",
        "  //connect() has 2 further args",
        "  dbConnection.once(\"open\", (_) => {",
        "    console.log(`Database connected: \\${url}`);",
        "  });",
        "  //connect() has 2 further args",
        "  dbConnection.on(\"error\", (err) => {",
        "    console.error(`connection error: \\${err}`);",
        "  });",
        "  return;",
        "}"
    ],
    "description": "connect with mongoose. own file."
}
}