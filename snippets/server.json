{
  "simple express server": {
    "prefix": "a-server-express",
    "body": [
      "//import express from 'express'",
      "const express = require('express');",
      "const app = express();",
      "",
      "// const hostname = '127.0.0.1';",
      "const port = process.env.PORT || 1337",
      "",
      "app.get('/', (req, res) => {        ",
      "  res.send('Hello, World! date: ' + new Date());",
      "})",
      "",
      "app.listen(port, ()=>{    ",
      "    console.log(`browse this url http://localhost:\\${port}`)",
      "});",
      ""
    ],
    "description": "Create a simple express server."
  },
  "insert defs and mw": {
    "prefix": "a-server-defs",
    "body": [
      "// Middleware to parse JSON",
      "app.use(bodyParser.json());",
      "app.use(express.urlencoded({ extended: false }));",
      "app.set('view engine','ejs');",
      "app.use(bodyParser.urlencoded({ extended: true }));"
    ],
    "description": "insert some defs"
  },
  "big import": {
    "prefix": "a-server-import-big",
    "body": [
        "//#region IMPORTS",
        "import express from \"express\"",
        "import fs from \"fs\"",
        "import https from \"https\"",
        "import * as dotenv from \"dotenv\";",
        "import path from \"path\";",
        "import { fileURLToPath } from \"url\";",
        "import {routerIndex, loggingRequestsAsMw} from \"./routes/IndexRouter.js\";",
        "import * as routes_get from \"./routes/routes_get.mjs\"",
        "import users from './public/users.json' assert {type: \"json\"};",
        "//#endregion imports",
        "",
        "//#region DEFINITIONS",
        "const port = 3000;",
        "const app = express();",
        "const router = express.Router();",
        "const __filename = fileURLToPath(import.meta.url); //C:\\web\\first-project\\server.mjs ",
        "const __dirname = path.dirname(__filename); //C:\\web\\first-project",
        "app.use(express.json()); // for json",
        "app.use(express.urlencoded({ extended: true })); // for form data",
        "app.use(express.static('public')); //url/file.img abrufbar, wenn im public folder",
        "",
        "// app.engine('html', require('ejs').renderFile);",
        "app.set(\"view engine\", \"ejs\");",
        "// app.set(\"views\", __dirname);",
        "// require('dotenv').config();",
        "dotenv.config();",
        "//#endregion definitions",
        "",
        "",
        "//#region MIDDLEWARE",
        "// NOTE : Write Middleware logger Function above all Routes",
        "app.use(loggingRequestsAsMw)",
        "app.use('/', routerIndex);",
        "app.use('/cat', routerCategory);",
        "//#endregion MIDDLEWARE",
        "",
        "",
        "//#region GET",
        "// app.get('/', (req, res) => {",
        "//     res.render('index', {textIntro:\"txt\", xml:\"xml\"})",
        "// });",
        "//#endregion GET",
        "",
        "//#region GET",
        "app.get('/', (req, res) => {",
        "    res.send('Hello, World! '+new Date().toUTCString());",
        "});",
        "//#endregion GET"
    ],
    "description": "big import ES6"
},
  "export": {
    "prefix": "a-server-export",
    "body": [
      "export default ${1:router}",
      "export {posts} //ES6",
      "module.exports = UserModel; //CJS"
    ],
    "description": "export"
  },  
  "logger": {
    "prefix": "a-server-logger",
    "body": [
        "",
        "// const log4js = require(\"log4js\");",
        "import log4js from \"log4js\";",
        "const logger = log4js.getLogger(\"thing\");",
        "//use in the other file: const { logger } = require(\"./logger\");",
        "",
        "log4js.configure({",
        "\tappenders: {",
        "\t\tout: {",
        "\t\t\ttype: \"stdout\",",
        "\t\t\tlayout: {",
        "\t\t\t\ttype: \"pattern\",",
        "\t\t\t\t// Output will include filename and line number",
        "\t\t\t\t// %n %c",
        "\t\t\t\t// pattern: \"%d %p : %m [%f{1}.%M():%l] \",",
        "\t\t\t\tpattern: \"%d %p : %m \",",
        "\t\t\t},",
        "\t\t},",
        "\t},",
        "\tcategories: {",
        "\t\tdefault: { appenders: [\"out\"], level: \"info\", enableCallStack: true },",
        "\t},",
        "});",
        "// logger.info(\"this should give me a line number now\");",
        "",
        "// module.exports = {logger}",
        "export {logger}",
        "",
        "",
        ""
    ],
    "description": "logger"
},
"a bunch of classes": {
    "prefix": "a-server-classes",
    "body": [
        "export default class Answer {",
        "  constructor(id, answer, correct) {",
        "    this.id = id;",
        "    this.answer = answer;",
        "    this.correct = correct;",
        "  }",
        "  ",
        "  static categoriesComplete = []",
        "",
        "  static fromJSON(json) {",
        "    const answer = JSON.parse(json);",
        "    return new Answer(answer.id, answer.answer, answer.correct);",
        "  }",
        "}",
        "",
        "export default class Category {",
        "  constructor(id, name, courses) {",
        "    this.id = id;",
        "    this.name = name;",
        "    this.courses = courses;",
        "  }",
        "  ",
        "  static categoriesComplete = []",
        "",
        "  static fromJSON(json) {",
        "    const cat = JSON.parse(json);",
        "    return new Category(cat.id, cat.name, cat.courses);",
        "  }",
        "}",
        "",
        "class Course {",
        "  constructor(id, name, questions) {",
        "    this.cid = id;",
        "    this.courseName = name;",
        "    this.questions = questions;",
        "  }",
        "  ",
        "}",
        "export default Course",
        "",
        "class Question {",
        "  constructor(qid, question, answers) {",
        "    this.qid = qid;",
        "    this.question = question;",
        "    this.answers = answers;",
        "  }",
        "",
        "  static fromJSON(json) {",
        "    const q = JSON.parse(json);",
        "    return new Category(q.qid, q.question, q.answers);",
        "  }",
        "}",
        "export default Question"
    ],
    "description": "a bunch of classes"
}
}